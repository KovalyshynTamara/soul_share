<div class="container mb-20">
  <h1 class="text-2xl font-bold mb-4">Events</h1>

  <%= link_to "+ New Event", new_event_path, class: "btn btn__pink" %>

  <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6 mt-6">
    <% @events.each do |event| %>
      <div class="bg-white rounded-2xl shadow p-6 hover:shadow-lg transition relative">
      <!-- Статус івенту: open або closed -->
        <% if event.start_at.present? %>
            <% if event.start_at.to_date > Date.today %>
              <div class="badge bg-green-600 absolute bottom-6 right-6">Open</div>
            <% else %>
              <div class="badge bg-red-600 absolute bottom-6 right-6">Closed</div>
            <% end %>
        <% end %>

        <%= image_tag("music.jpg", alt: "Event", class: "w-full h-40 object-cover rounded-xl mb-4") %>
        <%= link_to event_path(event), class: "block space-y-2" do %>
          <h2 class="text-xl font-bold text-indigo-600 hover:underline">
            <%= event.title %>
          </h2>
          <p class="text-gray-700"><%= event.description.truncate(100) %></p>
          <div class="text-sm text-gray-600 flex items-center gap-2">
            <svg width="24px" height="24px" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" stroke="#8d3db8"><g id="SVGRepo_bgCarrier" stroke-width="0"></g><g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round" stroke="#CCCCCC" stroke-width="0.048"></g><g id="SVGRepo_iconCarrier"> <path d="M12 21C15.5 17.4 19 14.1764 19 10.2C19 6.22355 15.866 3 12 3C8.13401 3 5 6.22355 5 10.2C5 14.1764 8.5 17.4 12 21Z" stroke="#8d3db8" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></path> <path d="M12 12C13.1046 12 14 11.1046 14 10C14 8.89543 13.1046 8 12 8C10.8954 8 10 8.89543 10 10C10 11.1046 10.8954 12 12 12Z" stroke="#8d3db8" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></path> </g></svg>
            <%= event.location&.city || "No location" %>
          </div>
          <div class="text-sm text-gray-600 flex items-center gap-2">
            <svg width="24px" height="24px" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><g id="SVGRepo_bgCarrier" stroke-width="0"></g><g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g><g id="SVGRepo_iconCarrier"> <path d="M3 9H21M7 3V5M17 3V5M6 13H8M6 17H8M11 13H13M11 17H13M16 13H18M16 17H18M6.2 21H17.8C18.9201 21 19.4802 21 19.908 20.782C20.2843 20.5903 20.5903 20.2843 20.782 19.908C21 19.4802 21 18.9201 21 17.8V8.2C21 7.07989 21 6.51984 20.782 6.09202C20.5903 5.71569 20.2843 5.40973 19.908 5.21799C19.4802 5 18.9201 5 17.8 5H6.2C5.0799 5 4.51984 5 4.09202 5.21799C3.71569 5.40973 3.40973 5.71569 3.21799 6.09202C3 6.51984 3 7.07989 3 8.2V17.8C3 18.9201 3 19.4802 3.21799 19.908C3.40973 20.2843 3.71569 20.5903 4.09202 20.782C4.51984 21 5.07989 21 6.2 21Z" stroke="#8d3db8" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></path> </g></svg>
            <%= event.start_at&.strftime("%d %b %Y, %H:%M") || "Time TBD" %>
          </div>
        <% end %>
      </div>
    <% end %>
  </div>
</div>